WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.549
我们已经有了所有的单词

00:00:02.549 --> 00:00:06.160
我们需要将所有影评用整数表示

00:00:06.160 --> 00:00:09.141
我们将传入影评

00:00:09.141 --> 00:00:11.099
每个单词都是用一个整数表示

00:00:11.099 --> 00:00:13.144
并进入嵌入层

00:00:13.144 --> 00:00:15.269
第一步由你来完成

00:00:15.269 --> 00:00:19.050
创建一个字典 将这些词汇单词

00:00:19.050 --> 00:00:21.539
映射为整数

00:00:21.539 --> 00:00:23.789
要记住的是之后

00:00:23.789 --> 00:00:27.299
我们将用 0 填满输入向量空缺的部分

00:00:27.300 --> 00:00:31.266
所有当我们将单词转换为整数时

00:00:31.265 --> 00:00:33.390
它们要从 1 开始 不能从 0 开始

00:00:33.390 --> 00:00:35.579
否则网络会感到困惑

00:00:35.579 --> 00:00:38.159
映射好后

00:00:38.159 --> 00:00:41.519
然后应该转换影评

00:00:41.520 --> 00:00:44.280
从影评列表将所有单词

00:00:44.280 --> 00:00:44.880
转换为整数

00:00:44.880 --> 00:00:47.429
现在我们有了所有的影评 但不是单词

00:00:47.429 --> 00:00:48.469
而是整数

00:00:49.170 --> 00:00:52.530
接着 我们需要将标签

00:00:52.530 --> 00:00:56.939
从“positive”和“negative”更改为 1 和 0

00:00:56.939 --> 00:01:00.359
打开标签后

00:01:00.359 --> 00:01:02.789
会看到每个影评都有一个标签

00:01:02.789 --> 00:01:04.239
positive 或 negative

00:01:04.239 --> 00:01:05.939
但是我们需要将其转换为 1 和 0

00:01:05.939 --> 00:01:08.819
这样才能用到网络中

00:01:08.819 --> 00:01:10.469
并计算损失

00:01:10.469 --> 00:01:11.750
可以在这里实现

00:01:11.750 --> 00:01:14.609
如果正确地设置标签

00:01:14.609 --> 00:01:17.370
运行该单元后应该看到

00:01:17.370 --> 00:01:20.666
实际上有一个影评没有长度

00:01:20.665 --> 00:01:23.039
我不知道为何会这样 我没有仔细研究

00:01:23.040 --> 00:01:24.870
但是个问题

00:01:24.870 --> 00:01:27.073
因为最终会破坏网络

00:01:27.073 --> 00:01:28.239
我们需要把这条影评删掉

00:01:28.239 --> 00:01:31.539
其次 这里有一些非常长的影评

00:01:31.540 --> 00:01:35.969
最长的是 2,514 个单词

00:01:35.969 --> 00:01:39.269
这太长了

00:01:39.269 --> 00:01:42.899
根本无法放入我们的 RNN 中

00:01:42.900 --> 00:01:47.010
因为当前网络需要太长的时间

00:01:47.010 --> 00:01:50.375
训练这么多的步长

00:01:50.375 --> 00:01:51.750
我们将

00:01:51.750 --> 00:01:54.329
每个影评截断到

00:01:54.329 --> 00:01:57.359
200 个步长或 200 个单词

00:01:57.359 --> 00:02:00.510
对于小于 200 个单词的影评

00:02:00.510 --> 00:02:03.810
我们直接在左侧添加 0

00:02:03.810 --> 00:02:08.919
例如对于下面这个示例

00:02:08.919 --> 00:02:10.979
如果影评是“best movie ever”

00:02:10.979 --> 00:02:15.820
那么用数字表示 就是 117 18 和 128

00:02:15.819 --> 00:02:20.051
这行就变成 0 0

00:02:20.051 --> 00:02:25.109
0 0 197 个 0 最后三个数字

00:02:25.110 --> 00:02:27.750
是单词对应的整数

00:02:27.750 --> 00:02:28.479
就像这样

00:02:28.479 --> 00:02:30.000
但首先你要做的是

00:02:30.000 --> 00:02:33.020
删掉长度为 0 的影评

00:02:33.020 --> 00:02:34.020
可以在这里实现

00:02:34.020 --> 00:02:37.290
然后创建这个数组特征

00:02:37.289 --> 00:02:39.909
其中包含我们将传入网络的数据

00:02:39.909 --> 00:02:42.960
每个影评各占一行

00:02:42.960 --> 00:02:47.320
每行有 200 个步长

00:02:47.319 --> 00:02:48.539
或 200 个单词

00:02:48.539 --> 00:02:51.989
然后正如我之前提到的

00:02:51.990 --> 00:02:55.879
如果影评少于 200 个单词 那么在左侧

00:02:55.879 --> 00:02:56.699
填充 0

00:02:56.699 --> 00:02:58.439
如果多于 200 个单词

00:02:58.439 --> 00:03:01.710
则仅使用前 200 个单词作为特征向量

00:03:01.710 --> 00:03:03.610
如果正确构建特征的话

00:03:03.610 --> 00:03:05.110
结果应该看起来这样

00:03:05.110 --> 00:03:08.640
对于第一条影评 大多数都是 0

00:03:08.639 --> 00:03:11.699
这里是我们的影评

00:03:11.699 --> 00:03:14.969
这是超过 200 个

00:03:14.969 --> 00:03:16.663
字符的影评

00:03:16.663 --> 00:03:17.579
看起来是这样

00:03:17.580 --> 00:03:21.090
这个 200 个元素的向量

00:03:21.090 --> 00:03:23.900
完全填满 没有 0

