WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.475
大家好 欢迎回来 好

00:00:02.475 --> 00:00:06.120
这是我为函数 get_target 写的方案

00:00:06.120 --> 00:00:12.490
首先 我生成了随机窗口 R 用的函数是 random.randint

00:00:12.490 --> 00:00:16.179
随机窗口的范围是 1 到大窗口的大小

00:00:16.178 --> 00:00:18.058
但当你用函数 randint 来生成随机数时

00:00:18.059 --> 00:00:20.274
这会是个开集

00:00:20.274 --> 00:00:22.039
所以你无法得到大窗口的大小

00:00:22.039 --> 00:00:23.280
打个比方 假设大窗口的大小是 5

00:00:23.280 --> 00:00:25.892
那你实际只可能得到 1 到 4 中的任意整数

00:00:25.891 --> 00:00:28.620
所以你得在这里加 1

00:00:28.620 --> 00:00:31.675
才能确保得到 1 到 5 中的任意整数

00:00:31.675 --> 00:00:34.795
然后我们要得到起始索引

00:00:34.795 --> 00:00:39.405
也就是用我们所处的任意索引减去 R

00:00:39.405 --> 00:00:44.579
然后你还得注意极端情况 所以如果索引减 R 小于 0

00:00:44.579 --> 00:00:45.719
那就将其设为 0

00:00:45.719 --> 00:00:49.179
因为如果索引减 R 后为 -2

00:00:49.179 --> 00:00:51.465
你就会绕到单词表的后面

00:00:51.465 --> 00:00:55.225
这样一来事情就一团糟了

00:00:55.225 --> 00:01:00.329
窗口终止索引是索引加 R

00:01:00.329 --> 00:01:03.655
现在我们有了窗口、起始索引和终止索引

00:01:03.655 --> 00:01:05.655
要得到目标单词

00:01:05.655 --> 00:01:11.280
我们只需找到起始索引与现有索引之间的单词

00:01:11.280 --> 00:01:14.849
这个范围包含的单词有点像

00:01:14.849 --> 00:01:19.349
文本的历史 而这个范围包含的则是文本的未来

00:01:19.349 --> 00:01:24.069
所以这里要找的是在索引加一和终止索引加一之间的单词

00:01:24.069 --> 00:01:26.969
把这些全部放到一个集合里

00:01:26.968 --> 00:01:29.839
因为集合能自动去除冗余

00:01:29.840 --> 00:01:33.150
如果窗口里有重复的单词

00:01:33.150 --> 00:01:34.739
集合就能自动把它们删掉

00:01:34.739 --> 00:01:36.685
这样我们就得到目标单词了

00:01:36.685 --> 00:01:40.030
因为这是个集合 所以我们要把结果以列表的形式返回出来

00:01:40.030 --> 00:01:43.108
所以把集合转化成列表 返回

00:01:43.108 --> 00:01:45.000
好了 下个视频见

